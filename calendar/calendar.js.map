{"version":3,"file":"calendar.js","sourceRoot":"","sources":["../../../src/lib/calendar/calendar.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  Self,\r\n  SimpleChanges\r\n} from '@angular/core';\r\nimport {\r\n  ControlValueAccessor,\r\n  NgControl\r\n} from '@angular/forms';\r\nimport {\r\n  coerceBooleanProperty,\r\n  DateLocale,\r\n  DateUtil\r\n} from '../core';\r\nimport { slideCalendar } from '../datepicker/datepicker-animations';\r\n\r\n/** Change event object emitted by Md2Calendar. */\r\nexport class Md2DateChange {\r\n  constructor(public source: Md2Calendar, public value: Date) { }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'md2-calendar',\r\n  templateUrl: './calendar.html',\r\n  styleUrls: ['./calendar.css'],\r\n  host: {\r\n    'role': 'calendar'\r\n  },\r\n  animations: [\r\n    slideCalendar\r\n  ]\r\n})\r\nexport class Md2Calendar\r\n  implements OnChanges, OnInit, AfterContentInit, AfterViewInit, ControlValueAccessor {\r\n\r\n  private _dateValue: Date = null;\r\n  private _defaultDateShown: Date = null;\r\n  private _dateShown: Date = null;\r\n  private _today: Date = null;\r\n\r\n  private _required: boolean = false;\r\n  private _disabled: boolean = false;\r\n\r\n  private _calendarGenerated: boolean = false;\r\n  private _regenerateInputs = [\r\n    'enableDates', 'disableDates', 'disableWeekDays',\r\n    'minDate', 'maxDate']\r\n\r\n  _dates: Array<Object> = [];\r\n\r\n  _calendarState: string;\r\n\r\n  _weekDays: Array<any>;\r\n\r\n  _prevMonth: number = 1;\r\n  _currMonth: number = 2;\r\n  _nextMonth: number = 3;\r\n\r\n  constructor(private _element: ElementRef,\r\n              private _locale: DateLocale,\r\n              private _util: DateUtil,\r\n              @Self() @Optional() public _control: NgControl) {\r\n    if (this._control) {\r\n      this._control.valueAccessor = this;\r\n    }\r\n\r\n    this._today = this._util.today(true);\r\n    this._defaultDateShown = this._today;\r\n\r\n    this.setWeekDays();\r\n\r\n    this.dateShown = this._defaultDateShown;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (this._calendarGenerated) {\r\n      for (let inputName of this._regenerateInputs) {\r\n        if (changes.hasOwnProperty(inputName)) {\r\n          window.setTimeout(() => {\r\n            if (!this._dateValue || this._isDisabledDate(this._dateValue)) {\r\n              this.updateDateValue(null, false, true);\r\n            }\r\n            this.generateCalendar();\r\n          }, 0);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.generateCalendar();\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n  }\r\n\r\n  writeValue(value: any): void { this.value = value; }\r\n\r\n  _onChange = (value: any) => { };\r\n  registerOnChange(fn: (value: any) => void): void { this._onChange = fn; }\r\n\r\n  _onTouched = () => { };\r\n  registerOnTouched(fn: () => {}): void { this._onTouched = fn; }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  @Input() enableDates: Array<Date> = [];\r\n  @Input() disableDates: Array<Date> = [];\r\n  @Input() disableWeekDays: Array<number> = [];\r\n  @Input() isFocused = true;\r\n\r\n  /**\r\n   * Get/set the date value\r\n   * Only the parent component should set value here\r\n   * Internally we set the value using updateDateValue()\r\n   */\r\n  @Input()\r\n  get value() { return this._dateValue; }\r\n  set value(newVal: any) {\r\n    let newDate = this.coerceDateProperty(newVal);\r\n    this.updateDateValue(newDate, true, false);\r\n  }\r\n\r\n  private updateDateValue(newDate: Date,\r\n                          bCheckDisabled: boolean,\r\n                          triggerChange: boolean): void {\r\n    this.dateShown = newDate;\r\n    let bIsDisabled = false;\r\n    let newDateValue = null;\r\n    if (newDate) {\r\n      bIsDisabled = bCheckDisabled && this._isDisabledDate(newDate);\r\n      if (!bIsDisabled) {\r\n        newDateValue = newDate;\r\n      }\r\n    }\r\n    this._dateValue = newDateValue;\r\n    if (triggerChange || bIsDisabled) {\r\n      this._emitChangeEvent();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  get defaultDateShown() { return this._defaultDateShown; }\r\n  set defaultDateShown(newDate: Date) {\r\n    this._defaultDateShown = newDate;\r\n  }\r\n\r\n  /** Get/set the date shown */\r\n  get dateShown() { return this._dateShown; }\r\n  set dateShown(newDate: Date) {\r\n    if (!newDate) {\r\n      newDate = this._defaultDateShown;\r\n    }\r\n    newDate = new Date(newDate.getTime());\r\n    newDate = this._util.clampDate(newDate, this.minDate, this.maxDate);\r\n    const bMonthChanged = this._dateShown &&\r\n      this._util.getMonthDistance(this._dateShown, newDate) !== 0;\r\n    this._dateShown = newDate;\r\n    if (bMonthChanged) {\r\n      this.generateCalendar();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  get required(): boolean { return this._required; }\r\n  set required(value) { this._required = coerceBooleanProperty(value); }\r\n\r\n  @Input()\r\n  get disabled(): boolean { return this._disabled; }\r\n  set disabled(value) { this._disabled = coerceBooleanProperty(value); }\r\n\r\n  /** The minimum selectable date. */\r\n  private _minDate: Date;\r\n  @Input()\r\n  get minDate(): Date { return this._minDate; }\r\n  set minDate(date: Date) {\r\n    this._minDate = this._util.parse(date);\r\n  }\r\n\r\n  /** The maximum selectable date. */\r\n  private _maxDate: Date;\r\n  @Input()\r\n  get maxDate(): Date { return this._maxDate; }\r\n  set maxDate(date: Date) {\r\n    this._maxDate = this._util.parse(date);\r\n  }\r\n\r\n  /** Event emitted when the selected date has been changed by the user. */\r\n  @Output() change: EventEmitter<Md2DateChange> =\r\n    new EventEmitter<Md2DateChange>();\r\n\r\n  get dateFocused(): Date { return null; }\r\n\r\n  get dateSelected() { return this._dateValue; }\r\n\r\n  get getMonthLabel(): string {\r\n    return this._locale.getMonthLabel(this.dateShown.getMonth(),\r\n      this.dateShown.getFullYear());\r\n  }\r\n\r\n  /**\r\n   * Generate Month Calendar\r\n   */\r\n  private generateCalendar(): void {\r\n    this._dates.length = 0;\r\n    let year = this.dateShown.getFullYear();\r\n    let month = this.dateShown.getMonth();\r\n    let firstDayOfMonth = this._util.getFirstDateOfMonth(this.dateShown);\r\n    let calMonth = this._prevMonth;\r\n    let date = this._util.getFirstDateOfWeek(firstDayOfMonth, this._locale.firstDayOfWeek);\r\n    do {\r\n      let week: Array<any> = [];\r\n      for (let i = 0; i < 7; i++) {\r\n        if (date.getDate() === 1) {\r\n          if (calMonth === this._prevMonth) {\r\n            calMonth = this._currMonth;\r\n          } else {\r\n            calMonth = this._nextMonth;\r\n          }\r\n        }\r\n        week.push({\r\n          date: date,\r\n          index: date.getDate(),\r\n          calMonth: calMonth,\r\n          today: this._util.isSameDay(this._today, date),\r\n          disabled: this._isDisabledDate(date)\r\n        });\r\n        date = new Date(date.getTime());\r\n        date.setDate(date.getDate() + 1);\r\n      }\r\n      this._dates.push(week);\r\n    } while ((date.getMonth() <= month) && (date.getFullYear() === year));\r\n    this._calendarGenerated = true;\r\n  }\r\n\r\n  /**\r\n   * Date Selection Event\r\n   * @param event Event Object\r\n   * @param date Date Object\r\n   */\r\n  _onClickDate(event: Event, date: any) {\r\n    this._stopEvent(event);\r\n    if (date.disabled) { return; }\r\n    if (date.calMonth === this._prevMonth) {\r\n      this._updateMonth(-1);\r\n    } else if (date.calMonth === this._currMonth) {\r\n      this.updateDateValue(date.date, false, true);\r\n    } else if (date.calMonth === this._nextMonth) {\r\n      this._updateMonth(1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update Month\r\n   * @param noOfMonths increment number of months\r\n   */\r\n  _updateMonth(noOfMonths: number) {\r\n    this.dateShown = this._util.incrementMonths(this.dateShown, noOfMonths);\r\n    if (noOfMonths > 0) {\r\n      this.calendarState('right');\r\n    } else {\r\n      this.calendarState('left');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check is Before month enabled or not\r\n   * @return boolean\r\n   */\r\n  _isBeforeMonth() {\r\n    return this.minDate ?\r\n      this._util.getMonthDistance(this.dateShown, this.minDate) < 0 :\r\n      true;\r\n  }\r\n\r\n  /**\r\n   * Check is After month enabled or not\r\n   * @return boolean\r\n   */\r\n  _isAfterMonth() {\r\n    return this.maxDate ?\r\n      this._util.getMonthDistance(this.dateShown, this.maxDate) > 0 :\r\n      true;\r\n  }\r\n\r\n  private setWeekDays() {\r\n    this._weekDays = this._locale.getDays();\r\n  }\r\n\r\n  private coerceDateProperty(value: any): Date {\r\n    let newDate: Date = null;\r\n    if (value) {\r\n      if (this._util.isValidDate(value)) {\r\n        newDate = value;\r\n      } else {\r\n        let timestamp = Date.parse(value);\r\n        if (!isNaN(timestamp)) {\r\n          newDate = new Date(timestamp);\r\n        }\r\n      }\r\n    }\r\n    return newDate;\r\n  }\r\n\r\n  /**\r\n   * Check the date is enabled or not\r\n   * @param date Date Object\r\n   * @return boolean\r\n   */\r\n  private _isDisabledDate(date: Date): boolean {\r\n    for (let d of this.enableDates) {\r\n      if (this._util.isSameDay(date, d)) {\r\n        return false;\r\n      }\r\n    }\r\n    for (let d of this.disableDates) {\r\n      if (this._util.isSameDay(date, d)) {\r\n        return true;\r\n      }\r\n    }\r\n    for (let d of this.disableWeekDays) {\r\n      if (date.getDay() === d) {\r\n        return true;\r\n      }\r\n    }\r\n    return !this._util.isDateWithinRange(date, this.minDate, this.maxDate);\r\n  }\r\n\r\n  /** Emits an event when the user selects a date. */\r\n  private _emitChangeEvent(): void {\r\n    this._onTouched();\r\n    this._onChange(this.value);\r\n    this.change.emit(new Md2DateChange(this, this.value));\r\n  }\r\n\r\n  private _stopEvent(event: Event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n  }\r\n\r\n  private calendarState(direction: string): void {\r\n    this._calendarState = direction;\r\n    setTimeout(() => this._calendarState = '', 180);\r\n  }\r\n\r\n}\r\n"]}