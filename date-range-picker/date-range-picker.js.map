{"version":3,"file":"date-range-picker.js","sourceRoot":"","sources":["../../../src/lib/date-range-picker/date-range-picker.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport {\r\n  coerceBooleanProperty,\r\n  ESCAPE,\r\n  TAB,\r\n  Overlay,\r\n  OverlayState,\r\n  OverlayRef,\r\n  TemplatePortal,\r\n  HorizontalConnectionPos,\r\n  VerticalConnectionPos,\r\n} from '../core';\r\nimport { fadeInContent } from '../datepicker/datepicker-animations';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nexport type Container = 'inline' | 'dialog';\r\nexport type PanelPositionX = 'before' | 'after';\r\nexport type PanelPositionY = 'above' | 'below';\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'md2-date-range-picker',\r\n  templateUrl: 'date-range-picker.html',\r\n  styleUrls: ['./date-range-picker.css'],\r\n  host: {\r\n    'role': 'date-range-picker',\r\n    '[class.md2-date-range-picker-disabled]': 'disabled',\r\n    '[class.md2-date-range-picker-opened]': 'panelOpen',\r\n    '[attr.aria-label]': 'placeholder',\r\n    '[attr.aria-disabled]': 'disabled.toString()'\r\n  },\r\n  animations: [\r\n    fadeInContent\r\n  ],\r\n})\r\nexport class Md2DateRangePicker implements OnInit, OnDestroy {\r\n\r\n  private _portal: TemplatePortal;\r\n  private _overlayRef: OverlayRef;\r\n  private _backdropSubscription: Subscription;\r\n\r\n  private _panelOpen = false;\r\n\r\n  private _openOnFocus: boolean = false;\r\n  private _container: Container = 'inline';\r\n  private _format: string;\r\n\r\n  private _startDateValue: Date = null;\r\n  private _startDatePicker: Date = null;\r\n\r\n  private _endDateValue: Date = null;\r\n  private _endDatePicker: Date = null;\r\n\r\n  private _positionX: PanelPositionX = 'after';\r\n  private _positionY: PanelPositionY = 'below';\r\n  private _overlapTrigger: boolean = true;\r\n\r\n  _transformOrigin: string = 'top';\r\n  _panelDoneAnimating: boolean = false;\r\n\r\n  displayDates: boolean = true;\r\n\r\n  _onTouched = () => { };\r\n\r\n  @ViewChild('portal') _templatePortal: TemplateRef<any>;\r\n\r\n  @Input() disabled: boolean = false;\r\n\r\n  @Input() placeholder: string = 'Select Date Range';\r\n  @Input() okLabel: string = 'Ok';\r\n  @Input() cancelLabel: string = 'Cancel';\r\n\r\n  @Input() startMinDate: Date = null;\r\n  @Input()\r\n  get startDateValue() {return this._startDateValue; }\r\n  set startDateValue(d: Date) { this._startDateValue = d; }\r\n  @Input()\r\n  get startDatePicker() { return this._startDatePicker; }\r\n  set startDatePicker(d: Date) {\r\n    this._startDatePicker = d;\r\n    this.startDatePickerChange.emit(this._startDatePicker);\r\n  }\r\n  @Input() startMaxDate: Date = null;\r\n\r\n  @Input() endMinDate: Date = null;\r\n  @Input()\r\n  get endDateValue() { return this._endDateValue; }\r\n  set endDateValue(d: Date) { this._endDateValue = d; }\r\n  @Input()\r\n  get endDatePicker() { return this._endDatePicker; }\r\n  set endDatePicker(d: Date) {\r\n    this._endDatePicker = d;\r\n    this.endDatePickerChange.emit(this._endDatePicker);\r\n  }\r\n  @Input() endMaxDate: Date = null;\r\n\r\n  @Output() onOpen: EventEmitter<void> = new EventEmitter<void>();\r\n  @Output() onClose: EventEmitter<void> = new EventEmitter<void>();\r\n  @Output() startDateValueChange: EventEmitter<Date> = new EventEmitter<Date>();\r\n  @Output() startDatePickerChange: EventEmitter<Date> = new EventEmitter<Date>();\r\n  @Output() endDateValueChange: EventEmitter<Date> = new EventEmitter<Date>();\r\n  @Output() endDatePickerChange: EventEmitter<Date> = new EventEmitter<Date>();\r\n\r\n  @Input()\r\n  get format() {\r\n    return this._format || 'MM/dd/y';\r\n  }\r\n  set format(value: string) {\r\n    this._format = value;\r\n    this.displayDates = (value !== 'none');\r\n  }\r\n\r\n  @Input()\r\n  get container() { return this._container; }\r\n  set container(value: Container) {\r\n    if (this._container !== value) {\r\n      this._container = value || 'inline';\r\n      this.destroyPanel();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  get openOnFocus(): boolean { return this._openOnFocus; }\r\n  set openOnFocus(value: boolean) { this._openOnFocus = coerceBooleanProperty(value); }\r\n\r\n  @Input()\r\n  set isOpen(value: boolean) {\r\n    if (value && !this.panelOpen) {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  constructor(private _element: ElementRef,\r\n              private overlay: Overlay,\r\n              private _viewContainerRef: ViewContainerRef) {\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngOnDestroy() { this.destroyPanel(); }\r\n\r\n  get panelOpen(): boolean {\r\n    return this._panelOpen;\r\n  }\r\n\r\n  toggle(): void {\r\n    this.panelOpen ? this.close() : this.open();\r\n  }\r\n\r\n  /** Opens the overlay panel. */\r\n  open(): void {\r\n    if (this.disabled) { return; }\r\n    this._createOverlay();\r\n\r\n    if (!this._portal) {\r\n      this._portal = new TemplatePortal(this._templatePortal, this._viewContainerRef);\r\n    }\r\n\r\n    this._overlayRef.attach(this._portal);\r\n    this._subscribeToBackdrop();\r\n    this._panelOpen = true;\r\n  }\r\n\r\n  /** Closes the overlay panel and focuses the host element. */\r\n  close(): void {\r\n    setTimeout(() => {\r\n      this._panelOpen = false;\r\n      if (this._openOnFocus) {\r\n        this._openOnFocus = false;\r\n        setTimeout(() => { this._openOnFocus = true; }, 100);\r\n      }\r\n      if (this._overlayRef) {\r\n        this._overlayRef.detach();\r\n        this._backdropSubscription.unsubscribe();\r\n      }\r\n    }, 10);\r\n  }\r\n\r\n  /** Removes the panel from the DOM. */\r\n  destroyPanel(): void {\r\n    if (this._overlayRef) {\r\n      this._overlayRef.dispose();\r\n      this._overlayRef = null;\r\n\r\n      this._cleanUpSubscriptions();\r\n    }\r\n  }\r\n\r\n  _onPanelDone(): void {\r\n    if (this.panelOpen) {\r\n      this._focusPanel();\r\n      this.onOpen.emit();\r\n    } else {\r\n      this.onClose.emit();\r\n    }\r\n  }\r\n\r\n  _onFadeInDone(): void {\r\n    this._panelDoneAnimating = this.panelOpen;\r\n  }\r\n\r\n  _handleWindowResize(event: Event) {\r\n    if (this.container === 'inline') {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  private _focusPanel(): void {\r\n    let el: any = document.querySelectorAll('.md2-date-range-picker-panel')[0];\r\n    el.focus();\r\n  }\r\n\r\n  _handleKeydown(event: KeyboardEvent) {\r\n    if (this.disabled) { return; }\r\n    if (this.panelOpen) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      switch (event.keyCode) {\r\n        case TAB:\r\n        case ESCAPE: this._onBlur(); this.close(); break;\r\n\r\n        // case ENTER:\r\n        // case SPACE: this._onClickOk(); break;\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  isOkDisabled(): boolean {\r\n    const bDisabled = (!this.startDatePicker || !this.endDatePicker);\r\n    return bDisabled;\r\n  }\r\n\r\n  /**\r\n   * Ok Button Event\r\n   */\r\n  _onClickOk() {\r\n    if (!this.isOkDisabled()) {\r\n      // Save dates\r\n      this.startDateValue = new Date(this.startDatePicker.getTime());\r\n      this.endDateValue = new Date(this.endDatePicker.getTime());\r\n      this.startDateValueChange.emit(this._startDateValue);\r\n      this.endDateValueChange.emit(this._endDateValue);\r\n      // Close dialog\r\n      this._onBlur();\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  _onBlur() {\r\n    if (!this.panelOpen) {\r\n      this._onTouched();\r\n    }\r\n  }\r\n\r\n  private _subscribeToBackdrop(): void {\r\n    this._backdropSubscription = this._overlayRef.backdropClick().subscribe(() => {\r\n      this.close();\r\n    });\r\n  }\r\n\r\n  /**\r\n   *  This method creates the overlay from the provided panel's template and saves its\r\n   *  OverlayRef so that it can be attached to the DOM when open is called.\r\n   */\r\n  private _createOverlay(): void {\r\n    if (!this._overlayRef) {\r\n      let config = new OverlayState();\r\n      if (this.container === 'inline') {\r\n        const [posX, fallbackX]: HorizontalConnectionPos[] =\r\n          this._positionX === 'before' ? ['end', 'start'] : ['start', 'end'];\r\n\r\n        const [overlayY, fallbackOverlayY]: VerticalConnectionPos[] =\r\n          this._positionY === 'above' ? ['bottom', 'top'] : ['top', 'bottom'];\r\n\r\n        let originY = overlayY;\r\n        let fallbackOriginY = fallbackOverlayY;\r\n\r\n        if (!this._overlapTrigger) {\r\n          originY = overlayY === 'top' ? 'bottom' : 'top';\r\n          fallbackOriginY = fallbackOverlayY === 'top' ? 'bottom' : 'top';\r\n        }\r\n        config.positionStrategy = this.overlay.position().connectedTo(this._element,\r\n          { originX: posX, originY: originY },\r\n          { overlayX: posX, overlayY: overlayY })\r\n          .withFallbackPosition(\r\n            { originX: fallbackX, originY: originY },\r\n            { overlayX: fallbackX, overlayY: overlayY })\r\n          .withFallbackPosition(\r\n            { originX: posX, originY: fallbackOriginY },\r\n            { overlayX: posX, overlayY: fallbackOverlayY })\r\n          .withFallbackPosition(\r\n            { originX: fallbackX, originY: fallbackOriginY },\r\n            { overlayX: fallbackX, overlayY: fallbackOverlayY });\r\n        config.hasBackdrop = true;\r\n        config.backdropClass = 'cdk-overlay-transparent-backdrop';\r\n      } else {\r\n        config.positionStrategy = this.overlay.position()\r\n          .global()\r\n          .centerHorizontally()\r\n          .centerVertically();\r\n        config.hasBackdrop = true;\r\n      }\r\n      this._overlayRef = this.overlay.create(config);\r\n    }\r\n  }\r\n\r\n  private _cleanUpSubscriptions(): void {\r\n    if (this._backdropSubscription) {\r\n      this._backdropSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n}\r\n"]}